<section id="transactions">
  <h2>Transactions</h2>

  <!-- Display loading -->
  <ng-container *ngIf="transactionsLoading">
    <app-loading></app-loading>
  </ng-container>

  <!-- Display data -->
  <div class="container">
    <div class="table" *ngIf="(transactions$ | async) as transactions">
      <div class="table-header">
        <h3>
          L'ensemble des transactions réalisées <span class="left">{{ transactions.total }}</span>
        </h3>
      </div>

      <div class="table-body">
        <table mat-table [dataSource]="dataSource"  class="mat-elevation-z8">
          <!-- Type -->
          <ng-container matColumnDef="type">
            <th mat-header-cell *matHeaderCellDef>Type de transaction</th>
            <td mat-cell *matCellDef="let transaction">{{ transaction.type }}</td>
          </ng-container>

          <!-- Value -->
          <ng-container matColumnDef="value">
            <th mat-header-cell *matHeaderCellDef>Montant</th>
            <td mat-cell *matCellDef="let transaction">{{ transaction.value }}</td>
          </ng-container>

          <!-- Date  -->
          <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef>Valeur</th>
            <td mat-cell *matCellDef="let transaction">{{ transaction.date }}</td>
          </ng-container>

          <!-- All columns -->
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
    </div>
    <mat-paginator class="table-paginator" [ngClass]="{'hidden': transactionsLoading}" [pageSize]="5"></mat-paginator>
  </div>

  <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat ad itaque dignissimos cupiditate temporibus dicta assumenda odit atque. Aliquid dolore minima sed earum maxime id provident impedit voluptas accusantium!</p>
</section>
